!input ../lang
@import lang[trace]
@import lang.oracle[yield]

let sig = signal
spawn func() {
    trace("[task#1] start")
    yield()
    trace("[task#1] yielded")
    notify sig
    trace("[task#1] notified")
}
spawn func() {
    trace("[task#2] finish")
}
trace("[main] spawned")
wait sig
trace("[main] wait finished")