!input ../lang
@import lang[trace]
@import lang.oracle[yield]

let fut = future
spawn func() {
    trace("[task#1] start")
    yield()
    trace("[task#1] yielded")
    notify fut
    trace("[task#1] notified")
}
spawn func() {
    trace("[task#2] finish")
}
trace("[main] spawned")
wait fut
trace("[main] wait finished")